{% extends 'base.html' %}
{% block content %}
  <div id="map-container" class="w-full h-128 -mt-8"></div>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
                         integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
                         crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
          integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
          crossorigin=""></script>
  <div class="container mx-auto md:flex">
    <div class="flex-1 pt-16">
      <p class="font-semibold">Email</p>
      <p>
      <a href="mailto:office@stcsfc.org">office@stcsfc.org</a>
      </p>
      <p class="font-semibold mt-4">Phone</p>
      <p>
      <a href="tel:+441312253505">0131 225 3505</a>
      </p>
      <p class="font-semibold mt-4">Address</p>
      <p>
      St Columba's Free Church<br>Johnston Terrace<br>Edinburgh<br>EH1 2PW
      </p>
    </div>
    <div class="flex-1 pt-16">
      <div class="bg-gray-100">
        <span id="contact"></span>
        <form id="contact-form" class="p-4" netlify>
          <div class="">
            <div class="">
              <h3 class="font-semibold">Contact Form</h3>
              <p>Fill in the contact box below and we will get back to you as soon as we can. Thanks</p>
            </div>
          </div>
          <div class="flex">
            <div class="flex-1">
              <label for="name">
              <span>Name *</span>
              <input name="name" type="text" required tabindex="1" class="form-input w-full">
              </label>
            </div>
            <div class="flex-1">
              <label for="email">
                <span>Email address *</span>
                <input name="email" type="email" required tabindex="2" class="form-input w-full">
              </label>
            </div>
          </div>
          <div class="w-full">
            <label for="subject">
              <span>Subject *</span>
              <input name="subject" type="text" required tabindex="3" class="form-input w-full">
            </label>
          </div>
          <div class="">
            <label for="message">
              <span>Message *</span>
              <textarea name="message" class="form-textarea block w-full"></textarea>
            </label>
            <p style="display: none;">
            <label>Donâ€™t fill this out if you're human: <input name="bot-field" /></label>
            </p>
          </div>
          <div class="">
            <div class="">
              <div class="">
                <div data-netlify-recaptcha></div>
              </div>
            </div>
          </div>
          <div class="">
            <div class="">
              <button type="submit" class="bg-white font-semibold px-4 py-2 text-lg text-red-stcs">Submit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
{% block extra_js %}
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.6&amp;sensor=true"></script>
<script>
  var urlParams = new URLSearchParams(window.location.search);
  if (urlParams.has('subject')) {
    var sub = urlParams.get('subject');
    $('#subject')[0].value = urlParams.get('subject');
  }
</script>
{% endblock %}
